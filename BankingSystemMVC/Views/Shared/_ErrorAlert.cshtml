@if (!ViewData.ModelState.IsValid && ViewData.ModelState[""]?.Errors.Count > 0)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        @ViewData.ModelState[""].Errors[0].ErrorMessage
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
else if (TempData["Error"] != null || TempData["ErrorMessage"] != null)
{
    var message = TempData["Error"]?.ToString() ?? TempData["ErrorMessage"]?.ToString();
    var kycRequired = TempData["KycRequired"]?.ToString() == "true";
    
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <strong>@message</strong>
        @if (kycRequired)
        {
            <div class="mt-1">
                <a asp-controller="Kyc" asp-action="Upload" class="btn btn-warning btn-sm">
                    <i class="bi bi-file-earmark-arrow-up me-1"></i>Complete KYC Verification Now
                </a>
            </div>
        }
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
